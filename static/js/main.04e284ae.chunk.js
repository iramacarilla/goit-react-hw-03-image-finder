(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{27:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(1),c=a(19),i=a.n(c),s=(a(27),a(10)),o=a(4),l=a(5),u=a(7),h=a(6),m=a(9),g=a.n(m),j=function(e){var t=e.images,a=e.onClick;return Object(n.jsx)(n.Fragment,{children:t.map((function(e){return Object(n.jsx)("li",{className:"ImageGalleryItem",children:Object(n.jsx)("img",{src:e.webformatURL,alt:"",className:"ImageGalleryItem-image","data-source":e.largeImageURL,onClick:a})},e.id)}))})},d=function(e){var t=e.images,a=e.onClick;return Object(n.jsx)("ul",{className:"ImageGallery",children:Object(n.jsx)(j,{images:t,onClick:a})})},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return g.a.get("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=19520761-48ad5b9d4b9d0975ec43def51&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))},p=a(20),f=a(21),O=a.n(f),v=function(e){return Object(p.a)(e),Object(n.jsx)("div",{className:"col spinner_item p-5",title:"Bars",children:Object(n.jsx)(O.a,{type:"Bars",color:" #3f51b5",height:50,width:50})})},y=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={inputValue:""},e.handelChange=function(t){e.setState({inputValue:t.target.value})},e.handelSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.inputValue),e.setState({inputValue:""})},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)("header",{className:"Searchbar",children:Object(n.jsxs)("form",{className:"SearchForm",onSubmit:this.handelSubmit,children:[Object(n.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(n.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(n.jsx)("input",{className:"SearchForm-input",type:"text",autocomplete:"off",autofocus:!0,placeholder:"Search images and photos",onChange:this.handelChange})]})})}}]),a}(r.Component),x=function(e){var t=e.onClick;return Object(n.jsx)("button",{className:"Button",type:"button",onClick:t,children:"Load More"})},S=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"Overlay",children:Object(n.jsx)("div",{className:"Modal",children:this.props.children})})}}]),a}(r.Component),I=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={images:[],loader:!1,error:null,page:1,searchItem:"",largeImage:null},e.setLargeImg=function(t){var a=t.target.dataset.source;e.setState({largeImage:a}),console.log(a)},e.fetchQuery=function(){var t=e.state,a=t.searchItem,n=t.page;e.setState({loading:!0}),b(a,n).then((function(t){return e.setState((function(e){return{images:[].concat(Object(s.a)(e.images),Object(s.a)(t)),page:e.page+1}}))})).catch((function(t){return e.setState({error:t})})).finally((function(){return e.setState({loading:!1})}))},e.handelSearchQuery=function(t){e.setState({searchItem:t,page:1,images:[]})},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.searchItem!==this.state.searchItem&&this.fetchQuery(this.state.searchItem),t.searchItem===this.state.searchItem&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("keydown",(function(t){"Escape"===t.code&&e.setState({largeImage:null})}))}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.loading,r=e.images,c=e.largeImage;return Object(n.jsxs)(n.Fragment,{children:[t&&Object(n.jsx)(S,{children:Object(n.jsx)("p",{children:"Something went wrong"})}),Object(n.jsx)(y,{onSubmit:this.handelSearchQuery}),a&&Object(n.jsx)(v,{}),r.length>0&&Object(n.jsx)(d,{images:r,onClick:this.setLargeImg}),r.length>0&&!a&&Object(n.jsx)(x,{onClick:this.fetchQuery}),this.state.largeImage&&Object(n.jsx)(S,{children:Object(n.jsx)("img",{src:c,alt:""})})]})}}]),a}(r.Component);i.a.render(Object(n.jsx)(I,{}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.04e284ae.chunk.js.map