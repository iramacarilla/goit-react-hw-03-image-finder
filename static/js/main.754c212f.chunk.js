(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{11:function(e,t,a){e.exports={Modal:"Modal_Modal__1roW_",Overlay:"Modal_Overlay__1MsR1"}},22:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3U87Z","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image__2LBW5"}},23:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1M2cr"}},26:function(e,t,a){e.exports={Button:"Button_Button__DEp2T"}},32:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(1),c=a(21),o=a.n(c),i=(a(32),a(12)),s=a(4),l=a(5),u=a(7),h=a(6),m=a(10),g=a.n(m),d=a(22),p=a.n(d),b=function(e){var t=e.images,a=e.onClick;return Object(n.jsx)(n.Fragment,{children:t.map((function(e){return Object(n.jsx)("li",{className:p.a.ImageGalleryItem,children:Object(n.jsx)("img",{src:e.webformatURL,alt:"",className:"ImageGalleryItem-image","data-source":e.largeImageURL,onClick:a})},e.id)}))})},j=a(23),f=a.n(j),O=function(e){var t=e.images,a=e.onClick;return Object(n.jsx)("ul",{className:f.a.ImageGallery,children:Object(n.jsx)(b,{images:t,onClick:a})})},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return g.a.get("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=19520761-48ad5b9d4b9d0975ec43def51&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))},_=a(24),y=a(25),I=a.n(y),v=function(e){return Object(_.a)(e),Object(n.jsx)("div",{className:"col spinner_item p-5",title:"Bars",children:Object(n.jsx)(I.a,{type:"Bars",color:" #3f51b5",height:50,width:50})})},x=a(8),k=a.n(x),w=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={inputValue:""},e.handelChange=function(t){e.setState({inputValue:t.target.value})},e.handelSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.inputValue),e.setState({inputValue:""})},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)("header",{className:k.a.Searchbar,children:Object(n.jsxs)("form",{className:k.a.SearchForm,onSubmit:this.handelSubmit,children:[Object(n.jsx)("button",{type:"submit",className:k.a.SearchFormButton,children:Object(n.jsx)("span",{className:k.a.SearchFormButtonLabel,children:"Search"})}),Object(n.jsx)("input",{className:k.a.SearchFormInput,type:"text",autocomplete:"off",autofocus:!0,placeholder:"Search images and photos",onChange:this.handelChange})]})})}}]),a}(r.Component),F=a(26),B=a.n(F),C=function(e){var t=e.onClick;return Object(n.jsx)("button",{className:B.a.Button,type:"button",onClick:t,children:"Load More"})},N=a(11),G=a.n(N),L=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:G.a.Overlay,children:Object(n.jsx)("div",{className:G.a.Modal,children:this.props.children})})}}]),a}(r.Component),M=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={images:[],loader:!1,error:null,page:1,searchItem:"",largeImage:null},e.setLargeImg=function(t){var a=t.target.dataset.source;e.setState({largeImage:a}),console.log(a)},e.fetchQuery=function(){var t=e.state,a=t.searchItem,n=t.page;e.setState({loading:!0}),S(a,n).then((function(t){return e.setState((function(e){return{images:[].concat(Object(i.a)(e.images),Object(i.a)(t)),page:e.page+1}}))})).catch((function(t){return e.setState({error:t})})).finally((function(){return e.setState({loading:!1})}))},e.handelSearchQuery=function(t){e.setState({searchItem:t,page:1,images:[]})},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.searchItem!==this.state.searchItem&&this.fetchQuery(this.state.searchItem),t.searchItem===this.state.searchItem&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("keydown",(function(t){"Escape"===t.code&&e.setState({largeImage:null})}))}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.loading,r=e.images,c=e.largeImage;return Object(n.jsxs)(n.Fragment,{children:[t&&Object(n.jsx)(L,{children:Object(n.jsx)("p",{children:"Something went wrong"})}),Object(n.jsx)(w,{onSubmit:this.handelSearchQuery}),a&&Object(n.jsx)(v,{}),r.length>0&&Object(n.jsx)(O,{images:r,onClick:this.setLargeImg}),r.length>0&&!a&&Object(n.jsx)(C,{onClick:this.fetchQuery}),this.state.largeImage&&Object(n.jsx)(L,{children:Object(n.jsx)("img",{src:c,alt:""})})]})}}]),a}(r.Component);o.a.render(Object(n.jsx)(M,{}),document.getElementById("root"))},8:function(e,t,a){e.exports={Searchbar:"Search_Searchbar__1V8lw",SearchForm:"Search_SearchForm__13Kpq",SearchFormButton:"Search_SearchFormButton__1hHS3",SearchFormButtonLabel:"Search_SearchFormButtonLabel__d-LbT",SearchFormInput:"Search_SearchFormInput__1bOXq","SearchForm-input":"Search_SearchForm-input__3_NQ7"}}},[[72,1,2]]]);
//# sourceMappingURL=main.754c212f.chunk.js.map